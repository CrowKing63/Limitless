:root {
  --bg: #0f1220;
  --fg: #e7e7ef;
  --fg-muted: #b9b9c9;
  --accent: #6ea8fe;
  --accent-contrast: #04122b;
  --danger: #ff6b6b;
  --card: #161a2f;
  --btn: #23274a;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  min-height: 100vh;
}

#app { position: relative; width: 100vw; height: 100vh; }

/* HUD */
.hud { position: fixed; top: 8px; left: 8px; display: flex; gap: 8px; z-index: 10; }
.hud-btn { font-size: 16px; padding: 10px 14px; background: var(--btn); color: var(--fg); border: 1px solid #2f3566; border-radius: 8px; cursor: pointer; }
.hud-btn:focus { outline: 3px solid var(--accent); outline-offset: 2px; }
.hud-indicator { width: 16px; height: 16px; border-radius: 50%; display: inline-block; border: 2px solid #2f3566; position: relative; }
.hud-indicator::after { content: ''; position: absolute; inset: 2px; background: var(--fg-muted); clip-path: polygon(50% 0%, 100% 100%, 0% 100%); transform-origin: 50% 70%; transform: rotate(var(--rot, 0deg)); opacity: 0.8; }

/* Overlays */
.overlay { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.6); z-index: 20; }
.overlay.visible { display: flex; }
.overlay-card { background: var(--card); border: 1px solid #2f3566; border-radius: 14px; padding: 24px; width: min(520px, 92vw); box-shadow: 0 10px 40px rgba(0,0,0,0.4); }
.overlay-card h1, .overlay-card h2 { margin-top: 0; }
.overlay .primary, .overlay .secondary, .choices button { font-size: 18px; padding: 12px 16px; border-radius: 10px; border: 1px solid #37407c; background: var(--btn); color: var(--fg); cursor: pointer; }
.overlay .primary { background: var(--accent); color: white; border-color: var(--accent); }
.overlay .row { display: flex; gap: 12px; align-items: center; margin-block: 8px; }
.overlay .row.end { justify-content: flex-end; }
.choices { display: grid; grid-template-columns: 1fr; gap: 10px; }
.choices button[aria-selected="true"] { outline: 3px solid var(--accent); outline-offset: 2px; }

/* Distinguish overlays visually */
.overlay.levelup .overlay-card { border-color: #2a7fff; box-shadow: 0 10px 40px rgba(42,127,255,0.3); }
.overlay.runover .overlay-card { border-color: #8e44ad; box-shadow: 0 10px 40px rgba(142,68,173,0.3); }

/* Practice mode: dock settings overlay as a side panel */
/* Practice mode: place settings as left sidebar without covering canvas */
.practice-mode body { display: grid; grid-template-columns: 360px 1fr; grid-template-rows: 100vh; overflow: hidden; }
.practice-mode #settings-overlay { position: static; display: block; background: transparent; width: auto; height: auto; }
.practice-mode #settings-overlay .overlay-card { height: 100vh; width: 360px; border-radius: 0; box-shadow: none; overflow: auto; }
.practice-mode #settings-overlay.visible { display: block; }
.practice-mode #settings-overlay[aria-hidden="true"] { display: block; }
.practice-mode #btn-close-settings { display: none; }
.practice-mode #app { width: 100%; height: 100vh; grid-column: 2 / 3; }
.note { color: var(--fg-muted); font-size: 12px; margin: 6px 0 12px; }

/* High contrast theme */
.high-contrast { --bg: #000; --fg: #fff; --fg-muted: #eee; --accent: #ffbf00; --btn: #111; --card: #000; }

/* Touch/Coarse pointer target sizing */
@media (pointer: coarse) {
  .hud-btn, .overlay .primary, .overlay .secondary, .choices button { font-size: 20px; padding: 16px 20px; }
}
